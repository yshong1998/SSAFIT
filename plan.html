<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* 페이지 전체 배경 및 중앙 정렬 */
body {
    display: flex;
    justify-content: center;
    align-items: flex-start; /* 콘텐츠가 길어질 경우를 대비해 상단 정렬 */
    min-height: 100vh;
    padding: 3rem 1rem; /* 상하 여백 추가 */
    background-color: #f8f9fa; /* 연한 회색 배경 */
    font-family: 'pretendard', sans-serif; /* 자연스러운 한글 폰트 (대체) */
}

/* 메인 컨테이너 스타일 */
.main-container {
    width: 100%;
    max-width: 800px; /* 너비 설정 */
    padding: 2.5rem;
    background-color: white;
    border-radius: 20px; /* 둥근 모서리 */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08); /* 부드러운 그림자 */
}

/* 페이지 제목 스타일 */
.main-container h2 {
    font-weight: 800; /* 더 굵은 폰트 */
    margin-bottom: 2rem;
    color: #333;
}

/* 개별 운동 계획 카드 스타일 */
.plan-card {
    background-color: #f0fcf9; /* 매우 연한 민트색 배경 */
    border: 1px solid #d4f4e9; /* 연한 테두리 */
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

/* 카드 헤더 (제목, 수정/삭제 링크) */
.plan-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.plan-header h5 {
    font-weight: bold;
    margin: 0;
    color: #2c5e4c;
}

/* 수정, 삭제 링크 스타일 */
.plan-actions a {
    text-decoration: none;
    font-weight: bold;
    font-size: 0.9rem;
    margin-left: 1rem;
}
.plan-actions .edit-link {
    color: #555;
}
.plan-actions .delete-link {
    color: #e57373; /* 너무 튀지 않는 붉은색 */
}

/* 계획 설명 텍스트 */
.plan-description {
    color: #5a786d;
    font-size: 0.95rem;
    margin-bottom: 1.5rem;
}

/* 카드 푸터 (태그, 진행률) */
.plan-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: white;
    border-radius: 10px;
    padding: 0.75rem 1rem;
    border: 1px solid #e9e9e9;
}

/* 시간, 레벨 태그 스타일 */
.plan-tag {
    display: inline-block;
    padding: 0.3rem 0.8rem;
    border-radius: 20px; /* 타원형 모양 */
    font-size: 0.8rem;
    font-weight: 500;
    margin-right: 0.5rem;
}

.plan-tag.time {
    background-color: #e0f2f1; /* 연한 청록색 */
    color: #00796b;
}

.plan-tag.level {
    background-color: #e3f2fd; /* 연한 파란색 */
    color: #1e88e5;
}

/* 진행률 텍스트 스타일 */
.plan-progress {
    font-size: 0.9rem;
    color: #666;
    font-weight: 500;
}

    </style>
</head>
<body>
    <div class="main-container">
        <h2>나의 운동 계획</h2>
        
        <div id="workout-plan-list">
            <div class="plan-card" data-id="1">
                <div class="plan-header">
                    <h5>주 3회 전신 운동</h5>
                    <div class="plan-actions">
                        <a href="#" class="edit-link">수정</a>
                        <a href="#" class="delete-link">삭제</a>
                    </div>
                </div>
                <p class="plan-description">월, 수, 금 전신 근력 운동 계획입니다. 각 운동마다 3세트씩 진행하세요</p>
                <div class="plan-footer">
                    <div class="plan-details">
                        <span class="plan-tag time">45분</span>
                        <span class="plan-tag level">중급</span>
                    </div>
                    <span class="plan-progress">진행률 : 7/12회 완료</span>
                </div>
            </div>
        </div>
        
        <div class="plan-card" data-id="2">
            <div class="plan-header">
                <h5>주 5회 다이어트 운동</h5>
                <div class="plan-actions">
                    <a href="#" class="edit-link">수정</a>
                    <a href="#" class="delete-link">삭제</a>
                </div>
            </div>
            <p class="plan-description">월~금 매일 다이어트 운동! HIIT, 유산소, 근력 운동을 조합한 체지방 감량 프로그램</p>
            <div class="plan-footer">
                <div class="plan-details">
                    <span class="plan-tag time">30분</span>
                    <span class="plan-tag level">초급</span>
                </div>
                <span class="plan-progress">진행률 : 15/20회 완료</span>
            </div>
        </div>
        
        <div class="plan-card" data-id="3">
            <div class="plan-header">
                <h5>주말 요가 & 스트레칭</h5>
                <div class="plan-actions">
                    <a href="#" class="edit-link">수정</a>
                    <a href="#" class="delete-link">삭제</a>
                </div>
            </div>
            <p class="plan-description">토, 일 편안한 요가와 스트레칭으로 몸과 마음을 힐링하는 시간.</p>
            <div class="plan-footer">
                <div class="plan-details">
                    <span class="plan-tag time">60분</span>
                    <span class="plan-tag level">전체</span>
                </div>
                <span class="plan-progress">진행률 : 10/16회 완료</span>
            </div>
        </div>
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {

                const loggedInUser = sessionStorage.getItem('loggedInUser');
                // if (!loggedInUser) {
                    //     alert('로그인이 필요합니다.');
                    //     window.location.href = 'login.html';
                    //     return;
                    // }
                    
                    let workoutPlans = [
                        {
                            id: 1,
                            title: '주 3회 전신 운동',
                            description: '월, 수, 금 전신 근력 운동 계획입니다. 각 운동마다 3세트씩 진행하세요',
                            time: '45분',
                            level: '중급',
                            progress: '7/12회 완료'
                        },
                        {
                            id: 2,
                            title: '주 5회 다이어트 운동',
                            description: '월~금 매일 다이어트 운동! HIIT, 유산소, 근력 운동을 조합한 체지방 감량 프로그램',
                            time: '30분',
                            level: '초급',
                            progress: '15/20회 완료'
                        },
                        {
                            id: 3,
                            title: '주말 요가 & 스트레칭',
                            description: '토, 일 편안한 요가와 스트레칭으로 몸과 마음을 힐링하는 시간.',
                            time: '60분',
                            level: '전체',
                            progress: '10/16회 완료'
                        }
                    ];
                    
                    const planListContainer = document.getElementById('workout-plan-list');
                    
                    const renderPlans = () => {
                        if (workoutPlans.length === 0) {
                            planListContainer.innerHTML = '<p>등록된 운동 계획이 없습니다.</p>';
                            return;
                        }
                        
                        planListContainer.innerHTML = workoutPlans.map(plan => `
                        <div class="plan-card" data-id="${plan.id}">
                            <div class="plan-header">
                                <h5>${plan.title}</h5>
                                <div class="plan-actions">
                                    <a href="#" class="edit-link" data-id="${plan.id}">수정</a>
                                    <a href="#" class="delete-link" data-id="${plan.id}">삭제</a>
                                    </div>
                                    </div>
                                    <p class="plan-description">${plan.description}</p>
                                    <div class="plan-footer">
                            <div class="plan-details">
                                <span class="plan-tag time">${plan.time}</span>
                                <span class="plan-tag level">${plan.level}</span>
                                </div>
                                <span class="plan-progress">진행률 : ${plan.progress}</span>
                                </div>
                                </div>
                                `).join('');
                            };
                            
                            planListContainer.addEventListener('click', function(event) {
                                const target = event.target;
                                
                                if (target.classList.contains('edit-link')) {
                                    event.preventDefault();
                                    const planId = target.closest('.plan-card').dataset.id;
                                    alert('ID: ${planId} 운동 계획을 수정합니다.');
                                }
                                
                                if (target.classList.contains('delete-link')) {
                                    event.preventDefault();
                                    const planCard = target.closest('.plan-card');
                                    const planId = parseInt(planCard.dataset.id);
                                    
                                    if (confirm('정말로 이 운동 계획을 삭제하시겠습니까?')) {
                                        workoutPlans = workoutPlans.filter(plan => plan.id !== planId);
                                        renderPlans();
                                        console.log(`ID: ${planId} 운동 계획이 삭제되었습니다.`);
                                    }
                                }
            });
            renderPlans();
        })
        </script>
</body>
</html>